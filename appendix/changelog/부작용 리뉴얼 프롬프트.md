# GLP-1 부작용 UX 개선 조사 및 제안 요청

  ## 배경
  우리 앱 "가비움"은 GLP-1 주사제 사용자를 위한 디지털 치료 관리 솔루션입니다.

  ### 제품 철학
  - **목표**: 주사에 대한 거부감 감소, 부작용 대응력 향상, 치료 안정성 확보로 사용자 의욕을 촉진하여 더 건강한 삶을
  영위하도록 돕는다.
  - **핵심 가치**: 안전성 확보 + 데이터 기반 효율적 치료 관리 + 성취감 기반 동기 부여

  ### 현재 문제점
  부작용 대처 가이드(F004)가 **단순 텍스트 나열식**으로 구현되어 있어:
  1. 사용자가 불안할 때 즉각적인 안정감을 주지 못함
  2. 긍정적인 톤으로 치료 지속 의지를 강화하지 못함
  3. 개인화된 경험이 부족함
  4. 주사 치료에 대한 심리적 거부감 해소에 기여하지 못함

  ---

  ## 현재 구현 상태

  ### 기술 스택
  | 영역 | 기술 |
  |------|------|
  | Platform | Flutter 3.38.1 |
  | State Management | Riverpod 3.0.3 (Code Generation) |
  | Backend | Supabase (PostgreSQL + Auth + RLS) |
  | Navigation | go_router 17.0.0 |
  | Charts | fl_chart 1.1.1 |
  | Architecture | Clean Architecture + Repository Pattern |

  ### 부작용 관련 데이터베이스 스키마

  ```sql
  -- 부작용 기록
  symptom_logs (
    id uuid PK,
    user_id uuid FK(users.id),
    log_date date,
    symptom_name varchar(50), -- 메스꺼움/구토/변비/설사/복통/두통/피로
    severity integer CHECK (1-10),
    days_since_escalation integer NULL,
    is_persistent_24h boolean NULL,
    note text NULL,
    created_at timestamptz
  )

  -- 부작용 컨텍스트 태그
  symptom_context_tags (
    id uuid PK,
    symptom_log_id uuid FK(symptom_logs.id),
    tag_name varchar(50) -- #기름진음식, #과식, #음주, #공복, #스트레스, #수면부족 등
  )

  -- 긴급 증상 체크 기록
  emergency_symptom_checks (
    id uuid PK,
    user_id uuid FK(users.id),
    checked_at timestamptz,
    checked_symptoms jsonb -- 선택한 증상 목록
  )

  현재 부작용 가이드 구현 (F004)

  // 정적 텍스트 맵 기반 - 단순 나열식
  static const Map<String, Map<String, String>> _guides = {
    '메스꺼움': {
      'title': '메스꺼움 대처 가이드',
      'content': '''
        1. 식사 방법
        - 작은 양을 자주 먹기
        - 차가운 음식이나 음료 섭취하기
        ...
      ''',
    },
    // ... 7개 증상별 정적 가이드
  };

  현재 긴급 증상 체크 (F005)

  - 7개 고정 체크리스트 항목
  - 하나라도 선택 시 "전문가 상담 필요" 다이얼로그 표시
  - 데이터 저장 후 화면 종료

  ---
  조사 요청 사항

  1. UX/UI 베스트 프랙티스 조사

  다음 영역에서 모바일 헬스케어 앱의 베스트 프랙티스를 조사해주세요:

  1.1 부작용 정보 제공 UX

  - 의료 정보를 공포감 없이 전달하는 디자인 패턴
  - 단계적 정보 공개 (Progressive Disclosure) 적용 사례
  - 긍정적 프레이밍 (Positive Framing) 기법 활용 사례
  - 불안감 감소를 위한 시각적 안정감 디자인 원칙

  1.2 자가 관리 동기 부여 UX

  - 마이크로 인터랙션을 통한 성취감 제공 사례
  - 치료 지속 의지를 높이는 넛지(Nudge) 디자인
  - 개인화된 격려 메시지 시스템 설계 원칙
  - 부작용을 정상적인 치료 과정으로 인식시키는 콘텐츠 전략

  1.3 증상 추적 및 대응 UX

  - 상황 인식형(Context-aware) 가이드 제공 패턴
  - 심각도에 따른 적응형 UI 사례
  - 즉각적 안심 메시지 + 실용적 행동 가이드 조합 패턴
  - 증상 이력 기반 패턴 인사이트 제공 사례

  2. 참고할 만한 앱/서비스 조사

  아래 유형의 앱에서 부작용/증상 관리 UX 우수 사례를 조사해주세요:
  - 만성질환 관리 앱 (당뇨, 고혈압 등)
  - 암 환자 부작용 추적 앱
  - 정신건강/명상 앱의 불안 관리 UX
  - 임신/출산 앱의 증상 트래킹
  - 약 복용 관리 앱의 부작용 리포팅

  3. 학술/산업 연구 조사

  - 디지털 치료제(DTx)의 부작용 커뮤니케이션 가이드라인
  - 환자 경험(Patient Experience) 디자인 원칙
  - 건강 행동 변화 이론 (Health Behavior Change) 적용 사례
  - mHealth 앱의 약물 부작용 관리 효과 연구

  ---
  개선안 제안 요청

  조사 결과를 바탕으로 아래 형식으로 구체적인 개선안을 제안해주세요:

  제안 형식

  ## 개선안 #N: [개선안 제목]

  ### 문제 정의
  [현재 어떤 문제를 해결하는가]

  ### 해결 방안
  [구체적인 UX/UI 변경 내용]

  ### 기대 효과
  - 사용자 측면: [거부감 감소, 안정감 증가 등]
  - 치료 측면: [순응도 향상, 부작용 대응력 향상 등]

  ### 구현 명세

  #### 데이터 모델 변경 (필요시)
  ```sql
  -- 추가/변경될 테이블 또는 컬럼

  UI 컴포넌트 설계

  [화면/위젯 구조 설명]

  상태 관리 설계

  // Riverpod Provider/Notifier 설계

  콘텐츠 전략

  [메시지 톤, 문구 가이드라인]

  우선순위

  - 난이도: [Low/Medium/High]
  - 임팩트: [Low/Medium/High]
  - 권장 순서: [1차/2차/3차 개선]

  참고 자료

  [조사에서 발견한 관련 베스트 프랙티스 출처]

  ---

  ## 제약 조건

  ### 기술적 제약
  1. **Flutter 위젯 시스템** 내에서 구현 가능해야 함
  2. **Riverpod 3.0 AsyncNotifier 패턴** 준수
  3. **Supabase PostgreSQL + RLS** 환경 호환
  4. 기존 **Clean Architecture 레이어 분리** 유지:
     - Presentation → Application → Domain ← Infrastructure
  5. 기존 데이터 스키마와의 **하위 호환성** 고려

  ### 디자인 제약
  1. 기존 앱 디자인 시스템과의 일관성 (AppColors, AppTypography)
  2. 모바일 터치 친화적 UI (최소 터치 영역 44x44)
  3. 접근성 고려 (색상 대비, 폰트 크기 등)

  ### 콘텐츠 제약
  1. 의료 조언으로 오해받지 않는 면책 표현 포함
  2. 한국어 사용자 대상 자연스러운 표현
  3. 긍정적이되 과장되지 않은 톤

  ---

  ## 기대 결과물

  1. **UX 개선안 3-5개** (구체적 구현 명세 포함)
  2. **콘텐츠 전략 가이드** (메시지 톤, 문구 예시)
  3. **구현 우선순위 로드맵**
  4. **참고 자료 목록** (앱 사례, 연구 논문, 디자인 가이드라인)

  ---

  ## 추가 컨텍스트

  ### 타겟 사용자
  - GLP-1 주사제(위고비, 삭센다 등) 사용자
  - 자가 투여에 익숙하지만 부작용 관리에 불안감을 느끼는 사용자
  - 치료 초기 ~ 유지 단계의 모든 사용자

  ### 핵심 시나리오 (SC1: 일상 투여 및 기록)
  > 사용자는 설정된 투여일과 용량 알림을 받고 주사를 투여한다.
  > 투여 후 메스꺼움이 발생하자, 앱에 메스꺼움 강도를 기록하고,
  > 기록 즉시 앱에서 식사 방법, 피해야 할 음식 등의 **실용적인 대처 가이드**를 확인하여 안전하게 관리한다.

  ### 관련 기능 명세
  - **F002**: 부작용 기록 (증상 선택 + 심각도 1-10 + 컨텍스트 태그)
  - **F004**: 부작용 대처 가이드 (기록 완료 시 자동 표시)
  - **F005**: 긴급 증상 체크 (심각 증상 체크리스트 + 전문가 상담 권장)
  - **F006**: 홈 대시보드 (부작용 트렌드, 인사이트)