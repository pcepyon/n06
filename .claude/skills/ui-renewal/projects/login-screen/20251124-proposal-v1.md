# LoginScreen UI 개선 제안서

**프로젝트:** GLP-1 MVP - LoginScreen UI 갱신
**날짜:** 2025-11-24
**버전:** 1.0
**상태:** 제안 (Phase 2A)
**설계 시스템:** Gabium v1.0

---

## 1. 현재 상태 분석

### 1.1 현재 구현 개요
- **위치:** `lib/features/authentication/presentation/screens/login_screen.dart`
- **기능:** Kakao/Naver 소셜 로그인 + 이메일 로그인
- **사용자 동의:** 이용약관, 개인정보처리방침 필수 동의
- **라우팅:** 신규 사용자→Onboarding, 기존 사용자→Home Dashboard
- **에러 처리:** OAuth 취소, 네트워크 오류, 일반 오류 모두 처리됨

### 1.2 현재 문제점 분석

#### A. 브랜드 정체성 부족
```
문제:
- 아이콘이 generic `Icons.medication` (의료 태그)
- 제목/부제목이 단순 텍스트 (디자인 감 없음)
- 전체적으로 "무난한" 느낌으로, 첫인상이 약함
- GLP-1 전문 건강관리 앱이라는 정체성 미약

개선 기회:
- Gabium 로고 활용으로 프리미엄 느낌 전달
- 강한 시각적 계층 구조로 "신뢰하고 관리할 수 있는" 이미지
- 색상 시스템 전체 적용으로 통일성 강화
```

#### B. 시각적 계층 약함
```
문제:
- 모든 텍스트가 표준 스타일로 통일되어 있음
- 아이콘/로고가 큼지막하지만 (80x80) 가치 감소
- 체크박스와 버튼의 시각적 무게감이 불균형
- 동의 섹션이 중요한 부분이지만 목에 띄지 않음

개선 기회:
- 타이포그래피 계층 강화 (3xl → 2xl → base)
- 헤로 섹션으로 브랜드/제목/부제목 구조화
- 동의 섹션을 강조하는 배경/카드 처리
```

#### C. 사용자 경험 개선 필요
```
문제:
- 체크박스가 CheckboxListTile로 너무 커짐 (모바일 터치 문제)
- 동의 안 한 상태에서 버튼 비활성이 약하게 보임
- 에러/도움말 메시지가 SnackBar로만 표시
- 동의 상태 변경 시 즉시 피드백이 약함
- 로딩 상태가 버튼 내부 아이콘만 변경 (시각적 약함)

개선 기회:
- ConsentCheckbox 커스텀 컴포넌트로 44x44px 터치 영역 확보
- 동의 안 한 상태 헬퍼 텍스트를 더 눈에 띄게
- 비활성 버튼 스타일 명확히 (opacity 0.4→0.5)
- 로딩 중 전체 UI 피드백 강화
```

---

## 2. 개선 방향 (7가지 변경사항)

### Change 1: 브랜드 헤로 섹션 추가
```dart
// 기존: 단순 아이콘 + 텍스트
Icon(Icons.medication, size: 80)
Text('GLP-1 치료 관리')
Text('안전하고 효과적인 치료를 위해')

// 개선: Gabium 로고 + 강한 타이포그래피 + 색상 활용
GabiumLogo(size: 192)  // 또는 svg 임포트
Text('GLP-1 치료', style: TextStyle(fontSize: 28, fontWeight: 700))
Text('체계적으로 관리하세요', style: TextStyle(fontSize: 18, color: Primary))
```

**토큰:**
- Logo: 192x192px (gabium-logo-192.png)
- Title: Typography 3xl (28px, Bold, Neutral-900)
- Subtitle: Typography lg (18px, Semibold, Primary #4ADE80)
- 배경: Neutral-50 (#F8FAFC)
- 여백: xl (32px) 상하

**효과:**
- 첫인상 강화 (로고가 신뢰감과 전문성 전달)
- 색상 적용으로 Gabium 브랜드 시작
- 사용자 마음가짐 결정 ("안정적인 앱이다")

---

### Change 2: 동의 섹션 강화 (ConsentCheckbox + 배경)
```dart
// 기존: 일반 CheckboxListTile × 2
CheckboxListTile(
  title: const Text('이용약관 동의 (필수)'),
  value: _agreedToTerms,
  onChanged: ...
)

// 개선: 전용 ConsentCheckbox + Card 배경
GabiumCard(  // 혹은 Container with border
  child: Column(
    children: [
      ConsentCheckbox(
        label: '이용약관에 동의합니다',
        isRequired: true,
        onChanged: (val) => setState(() => _agreedToTerms = val),
      ),
      const SizedBox(height: 16),
      ConsentCheckbox(
        label: '개인정보처리방침에 동의합니다',
        isRequired: true,
        onChanged: (val) => setState(() => _agreedToPrivacy = val),
      ),
    ],
  ),
)
```

**토큰:**
- 배경: Neutral-100 (#F1F5F9)
- Checkbox 크기: 24x24px (터치 영역 44x44px)
- 텍스트: base (16px), Regular
- 라벨 색상: Neutral-700 (#334155)
- 패딩: md (16px)
- Border Radius: md (12px)
- Shadow: xs
- 여백: lg (24px) 상하

**효과:**
- 필수 항목임을 시각적으로 강조
- 터치 용이성 증가
- 동의 영역이 명확하게 구분됨

---

### Change 3: 소셜 로그인 버튼 스타일 정교화
```dart
// 기존: ElevatedButton.icon with 플랫한 색상
ElevatedButton.icon(
  onPressed: _canLogin ? _handleKakaoLogin : null,
  style: ElevatedButton.styleFrom(
    backgroundColor: const Color(0xFFFEE500),
    padding: const EdgeInsets.symmetric(vertical: 16),
  ),
  icon: _isLoading ? CircularProgressIndicator() : Icon(...),
  label: Text('카카오 로그인'),
)

// 개선: Gabium 버튼 타입 (Primary + 명확한 로딩 상태)
GabiumButton(
  variant: GabiumButtonVariant.primary,
  size: GabiumButtonSize.large,
  isLoading: _isLoading,
  onPressed: _canLogin ? _handleKakaoLogin : null,
  icon: Icons.chat_bubble,
  label: '카카오 로그인',
  // 배경색 매개변수화 (소셜 브랜드 유지)
  backgroundColor: const Color(0xFFFEE500),
  foregroundColor: Colors.black87,
)
```

**토큰:**
- Kakao 버튼: 배경 #FEE500, 텍스트 Black87
- Naver 버튼: 배경 #03C75A, 텍스트 White
- Disabled: 40% opacity
- Size: Medium (44px height)
- Border Radius: sm (8px)
- Shadow: sm (기본), md (호버)
- Loading: 16px spinner + 텍스트 보이기

**효과:**
- 버튼 일관성 강화
- 비활성 상태가 명확하게 다름
- 로딩 상태 피드백 강화

---

### Change 4: 비활성 상태 강화 (헬퍼 텍스트 + 스타일)
```dart
// 기존: 단순 텍스트 표시
if (!_canLogin && !_isLoading)
  const Text('소셜 로그인하려면 약관에 동의해주세요')

// 개선: 헬퍼 텍스트 + 아이콘 + 더 눈에 띄는 색상
if (!_canLogin && !_isLoading)
  Container(
    padding: EdgeInsets.all(16),
    decoration: BoxDecoration(
      color: Colors.orange.withOpacity(0.08),  // Amber-50
      border: Border.all(color: Colors.orange.withOpacity(0.2)),
      borderRadius: BorderRadius.circular(8),
    ),
    child: Row(
      children: [
        Icon(Icons.info_outline, color: Colors.orange),
        SizedBox(width: 12),
        Expanded(
          child: Text(
            '소셜 로그인하려면 약관에 모두 동의해주세요',
            style: TextStyle(color: Colors.orange),
          ),
        ),
      ],
    ),
  )
```

**토큰:**
- 배경: Warning color (#F59E0B) at 8% opacity
- 테두리: Warning color at 20% opacity
- 텍스트: Warning color (#F59E0B)
- 아이콘: 24x24px, Warning color
- 패딩: md (16px)
- Border Radius: sm (8px)

**효과:**
- 사용자가 뭘 해야 하는지 명확히 알 수 있음
- 시각적 강조로 인한 리텐션 증가

---

### Change 5: 이메일 로그인 섹션 개선
```dart
// 기존: 단순 Divider와 OutlinedButton/TextButton
Row(
  children: [
    Expanded(child: Divider()),
    Padding(padding: EdgeInsets.symmetric(horizontal: 16), child: Text('또는')),
    Expanded(child: Divider()),
  ],
)
// OutlinedButton(...)
// TextButton(...)

// 개선: 섹션 분리 + 부제목 추가
SizedBox(height: 32),
Row(
  children: [
    Expanded(child: Divider(height: 1, color: Neutral-200)),
    Padding(
      padding: EdgeInsets.symmetric(horizontal: 16),
      child: Text(
        '또는',
        style: TextStyle(fontSize: 14, color: Neutral-500),
      ),
    ),
    Expanded(child: Divider(height: 1, color: Neutral-200)),
  ],
)
SizedBox(height: 20),
Text(
  '다른 계정으로 계속하기',
  style: TextStyle(fontSize: 14, fontWeight: 500, color: Neutral-700),
)
SizedBox(height: 12),
GabiumButton(
  variant: GabiumButtonVariant.secondary,
  onPressed: () => context.go('/email-signin'),
  icon: Icons.email_outlined,
  label: '이메일로 로그인',
)
SizedBox(height: 8),
GabiumButton(
  variant: GabiumButtonVariant.secondary,
  onPressed: () => context.go('/email-signup'),
  icon: Icons.person_add_outlined,
  label: '이메일로 회원가입',
)
```

**토큰:**
- Divider: 1px, Neutral-200 (#E2E8F0)
- 라벨: sm (14px), Neutral-500
- 섹션 제목: sm (14px), Semibold, Neutral-700
- 여백: 상 lg (24px), 라벨-버튼 간 sm (8px), 버튼 간 sm (8px)

**효과:**
- 이메일 로그인과 소셜 로그인의 계층 구분
- 선택지가 명확하고 구조화됨

---

### Change 6: 에러/피드백 컴포넌트 현대화
```dart
// 기존: SnackBar 사용
ScaffoldMessenger.of(context).showSnackBar(
  const SnackBar(
    content: Text('로그인에 실패했습니다.'),
    backgroundColor: Colors.red,
  ),
);

// 개선: GabiumToast 사용
GabiumToast.showError(
  context,
  message: '로그인에 실패했습니다. 다시 시도해주세요.',
  duration: Duration(seconds: 5),
  action: GabiumToastAction(
    label: '재시도',
    onPressed: () => _handleKakaoLogin(),
  ),
);

// 또는 Dialog 사용 (더 중요한 오류)
showGabiumDialog(
  context,
  title: '로그인 실패',
  message: '네트워크 연결을 확인하고 다시 시도해주세요.',
  actions: [
    GabiumButton(
      label: '취소',
      variant: GabiumButtonVariant.secondary,
    ),
    GabiumButton(
      label: '재시도',
      onPressed: () => _handleKakaoLogin(),
    ),
  ],
);
```

**토큰:**
- Error Toast: 배경 #FEF2F2, 텍스트 #991B1B, 테두리 #EF4444
- Warning Toast: 배경 #FFFBEB, 텍스트 #92400E, 테두리 #F59E0B
- Info Toast: 배경 #EFF6FF, 텍스트 #1E40AF, 테두리 #3B82F6
- Duration: 3초 (Info), 5초 (Error/Warning)
- Shadow: lg
- Animation: Slide-up (200ms)

**효과:**
- 일관된 피드백 시스템
- 사용자가 다음 조치를 명확히 알 수 있음

---

### Change 7: 로딩 상태 및 접근성 강화
```dart
// 기존: 버튼 내부 spinner만 변경
_isLoading ? CircularProgressIndicator() : const Icon(...)

// 개선: 전체 UI 로킹 + 명확한 로딩 상태
Stack(
  children: [
    // 기존 폼 UI
    GestureDetector(
      onTap: _isLoading ? () {} : null,  // 터치 방지
      child: Opacity(
        opacity: _isLoading ? 0.6 : 1.0,
        child: IgnorePointer(
          ignoring: _isLoading,
          child: Form(...),
        ),
      ),
    ),

    // 로딩 오버레이 (필요 시)
    if (_isLoading)
      Container(
        color: Colors.black.withOpacity(0.1),
        child: Center(
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              CircularProgressIndicator(
                valueColor: AlwaysStoppedAnimation(Primary),
              ),
              SizedBox(height: 16),
              Text('로그인 중...'),
            ],
          ),
        ),
      ),
  ],
)
```

**토큰:**
- Spinner: 24px, Primary (#4ADE80), 1초 linear rotation
- 오버레이: Black at 10% opacity
- 로딩 텍스트: base (16px), Neutral-700
- 여백: md (16px) 텍스트-spinner 간

**효과:**
- 로딩 중 UI 조작 불가 (실수 방지)
- 명확한 진행 상황 표시

---

## 3. 컴포넌트 및 기술 구현

### 신규 컴포넌트
1. **AuthHeroSection** - 로고, 제목, 부제목 (Email/Login 공용)
2. **SocialLoginButton** - 소셜 로그인 버튼 (카카오/네이버 테마)
3. **ConsentCheckbox** - 커스텀 동의 체크박스
4. **GabiumTextField** (기존 Email Signup에서 재사용)
5. **GabiumButton** (기존 Email Signup에서 재사용)
6. **GabiumToast** (기존 Email Signup에서 재사용)

### 파일 구조
```
lib/features/authentication/presentation/
├── screens/
│   └── login_screen.dart (개선)
└── widgets/
    ├── auth_hero_section.dart (신규)
    ├── social_login_button.dart (신규)
    ├── consent_checkbox.dart (신규)
    ├── gabium_button.dart (기존 재사용)
    ├── gabium_text_field.dart (기존 재사용)
    └── gabium_toast.dart (기존 재사용)
```

---

## 4. 설계 토큰 참조

### 색상 (Semantic)
| 용도 | 토큰 | 값 |
|------|------|-----|
| Primary (로그인) | Primary | #4ADE80 |
| Secondary (취소) | Secondary | Transparent + #4ADE80 border |
| Kakao 브랜드 | Social.Kakao | #FEE500 |
| Naver 브랜드 | Social.Naver | #03C75A |
| Warning (동의 필요) | Warning | #F59E0B |
| Error (로그인 실패) | Error | #EF4444 |
| Neutral (배경) | Neutral-50 | #F8FAFC |
| Neutral (카드 배경) | Neutral-100 | #F1F5F9 |

### 타이포그래피
| 용도 | 토큰 | 값 |
|------|------|-----|
| 페이지 제목 | 3xl | 28px, Bold |
| 부제목 | lg | 18px, Semibold |
| 본문 | base | 16px, Regular |
| 라벨/헬퍼 | sm | 14px, Regular |
| 캡션 | xs | 12px, Regular |

### 여백 & 크기
| 용도 | 토큰 | 값 |
|------|------|-----|
| 기본 패딩 | md | 16px |
| 큰 여백 | lg | 24px |
| 버튼 높이 | Medium | 44px |
| 체크박스 터치 | - | 44x44px |
| 로고 크기 | - | 192x192px |

---

## 5. 사용자 경험 개선 요약

| 개선 사항 | 현재 문제 | 개선 효과 |
|---------|---------|---------|
| 브랜드 로고 추가 | 첫인상 약함 | 전문성과 신뢰감 강화 |
| 동의 섹션 강화 | 중요성 미약 | 사용자 주의 집중 |
| 버튼 일관성 | 스타일 혼재 | 통일감 및 사용성 향상 |
| 헬퍼 텍스트 강조 | 뭘 해야 하는지 불명확 | 명확한 가이드 |
| 피드백 시스템 | SnackBar 단순함 | 다채로운 피드백 |
| 로딩 상태 | 불명확 | 명확한 진행 상황 |
| 이메일 섹션 구분 | 혼란스러움 | 계층 구조 명확 |

---

## 6. 요구사항 체크리스트

### 기술 요구사항
- [x] Gabium Design System v1.0 토큰 100% 사용
- [x] 모든 컴포넌트 Presentation 레이어 전용
- [x] 기존 로직(OAuth, 라우팅) 변경 없음
- [x] TDD 준수 (테스트 먼저)
- [x] WCAG AA 색상 대비 확보
- [x] 44x44px 이상 터치 영역

### 기능 유지
- [x] Kakao/Naver 로그인 (동일)
- [x] 이용약관/개인정보 동의 (강화)
- [x] 에러 처리 (현대화)
- [x] 라우팅 (동일)

### UX 요구사항
- [x] 첫인상 강화 (브랜드)
- [x] 명확한 구조 (계층)
- [x] 직관적 가이드 (헬퍼 텍스트)
- [x] 일관된 피드백 (토스트/다이얼로그)

---

## 7. 다음 단계 (Phase 2B)

1. 각 컴포넌트의 상세 명세 작성
2. 레이아웃 다이어그램 및 간격 명세
3. 인터랙션 및 애니메이션 명세
4. Flutter 코드 예제 및 구현 가이드
5. 테스트 전략 및 체크리스트

---

**작성자:** UI Renewal Agent
**상태:** 제안 (검토 대기)
**예상 소요 시간:** Phase 2B: 1시간, Phase 2C: 2시간
