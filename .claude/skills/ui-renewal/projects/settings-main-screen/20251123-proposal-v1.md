# 설정 메인 화면 개선 제안

## Overview

설정 화면을 Gabium Design System에 맞춰 리디자인하여 브랜드 신뢰감과 친근함을 강화합니다. 사용자 정보 섹션은 카드 기반의 시각적 계층구조를 적용하고, 메뉴 항목들은 명확한 구분선과 인터랙션 피드백을 추가하며, 로그아웃 버튼은 Danger 스타일로 구분하여 의도적인 행동 유도를 강화합니다.

## Current State Issues

### Brand Consistency Issues
- 사용자 정보 섹션이 평범한 ListTile 구성으로 되어 있어 Gabium의 안전성과 친근함 가치가 반영되지 않음
- 전체 화면이 Material Design의 기본 컴포넌트만 사용하여 Design System 토큰 미적용
- 배경색이 Colors.grey[50]으로 하드코딩되어 Design System의 Neutral 색상 체계(Neutral-50 #F8FAFC) 미사용

### Visual Quality Issues
- 메뉴 항목들이 단순 ListTile로 차별화 부족 - 시각적 계층이 명확하지 않음
- 로그아웃 버튼이 다른 메뉴 항목과 스타일이 동일하여 위험한 액션임을 시각적으로 전달하지 못함
- 섹션 구분이 단순 Divider만 사용하여 시각적 강조 부족
- 설정 메뉴 간 여백 구조가 일관성 없음

### UX Issues
- 사용자 정보 섹션이 수정 불가능한 읽기 전용 정보인데, 상호작용 가능한 설정 메뉴와 동일한 스타일로 표현되어 사용자 혼동 야기
- 로그아웃 버튼이 일반 메뉴처럼 표시되어 실수로 탭할 가능성 높음
- 메뉴 항목 간 구분이 명확하지 않아 가독성 저하

## Improvement Direction

### Change 1: 사용자 정보 섹션을 카드 기반 디자인으로 강화

- **Current:** Container + Column 구조의 평면적 레이아웃, 배경색 Colors.grey[50]
- **Proposed:** 카드 스타일의 정보 섹션 - 섹션 제목(xl Bold), 데이터 항목들을 깔끔한 카드 내부에 정렬
- **Rationale:** 카드 기반 디자인은 정보의 그룹화를 시각화하여 신뢰감을 높이고, Gabium의 부드러운 친근함(rounded corners)을 표현하며, 사용자 정보의 중요성을 강조
- **Design System Mapping:**
  - Component: Card - Display (SummaryCard 참고)
  - Background: Neutral-50 (#F8FAFC)
  - Border: Neutral-200 (#E2E8F0), 1px
  - Border Radius: md (12px)
  - Shadow: sm (0 2px 4px rgba(15, 23, 42, 0.06))
  - Padding: md (16px)
  - Title Color: Neutral-800 (#1E293B)
  - Title Typography: xl (20px, Semibold)
  - Label Color: Neutral-700 (#334155)
  - Label Typography: sm (14px, Medium)
  - Value Color: Neutral-600 (#475569)
  - Value Typography: base (16px, Regular)
  - Item Spacing: sm (8px) between items

### Change 2: 설정 메뉴 항목 스타일 개선

- **Current:** ListTile with title, subtitle, trailing chevron - 기본 Material Design 스타일
- **Proposed:** 커스텀 SettingsMenuItem 컴포넌트 개선 - 각 메뉴 항목을 명확한 터치 영역(44px height)으로 정의하고, 설명 텍스트는 보조 색상으로 표시, 하단 구분선 추가
- **Rationale:** 명확한 터치 영역은 접근성을 보장하고, 구분선은 시각적 계층을 강화하여 각 메뉴를 독립적으로 인식, Gabium의 효율성 원칙(직관적 인터페이스) 구현
- **Design System Mapping:**
  - Height: 44px (터치 영역)
  - Padding: md (16px) horizontal, sm (8px) vertical
  - Title Color: Neutral-800 (#1E293B)
  - Title Typography: base (16px, Semibold)
  - Subtitle Color: Neutral-500 (#64748B)
  - Subtitle Typography: sm (14px, Regular)
  - Border Bottom: Neutral-200 (#E2E8F0), 1px
  - Icon Color: Neutral-400 (#94A3B8)
  - Icon Size: 20px
  - Interactive State - Hover: Background Neutral-100 (#F1F5F9), transition 150ms
  - Interactive State - Active: Background Primary (#4ADE80) at 10%, transition 150ms

### Change 3: 로그아웃 버튼을 Danger 스타일로 구분

- **Current:** SettingsMenuItem으로 일반 메뉴처럼 표시 (subtitle: '앱에서 로그아웃합니다')
- **Proposed:** Danger Button (Primary variant의 Error 색상 버전) - 전체 너비, 명확한 위험성 시각화
- **Rationale:** Danger 스타일은 사용자에게 이 액션이 중요한 결정임을 명확히 전달하여 실수 방지, 의료 앱의 신뢰감 강화
- **Design System Mapping:**
  - Component: Button - Danger
  - Background: Error (#EF4444)
  - Text Color: #FFFFFF (White)
  - Text Typography: base (16px, Semibold)
  - Height: 44px (Medium)
  - Padding: md (16px) horizontal
  - Border Radius: sm (8px)
  - Shadow: sm (0 2px 4px rgba(15, 23, 42, 0.06))
  - Full Width: true
  - Interactive States:
    - Hover: Background Error (#DC2626) + Shadow md
    - Active: Background Error (#B91C1C) + Shadow xs
    - Disabled: Opacity 0.4

### Change 4: 섹션 간 시각적 계층 강화

- **Current:** 섹션 간 Divider만 사용, 여백 구조 불일관
- **Proposed:** 섹션 제목 추가(xl, Bold, Neutral-800), 일관된 여백 시스템(섹션 간 lg 24px, 내부 md 16px)
- **Rationale:** 명확한 섹션 제목과 일관된 여백은 화면 계층 구조를 강화하여 사용자의 인지 부하 감소
- **Design System Mapping:**
  - Section Title Color: Neutral-800 (#1E293B)
  - Section Title Typography: xl (20px, Semibold)
  - Section Title Spacing: Below title md (16px), Above content md (16px)
  - Between Sections: lg (24px)
  - Main Padding: Horizontal md (16px), Vertical xl (32px)

### Change 5: 전체 배경색을 Design System 토큰으로 통일

- **Current:** Material 기본 흰색 배경, 섹션만 Colors.grey[50]
- **Proposed:** 전체 배경 Neutral-50 (#F8FAFC), AppBar 배경 White (#FFFFFF)
- **Rationale:** 일관된 색상 체계는 Design System 준수를 강화하고 전체적인 시각적 통일감 제공
- **Design System Mapping:**
  - Body Background: Neutral-50 (#F8FAFC)
  - AppBar Background: White (#FFFFFF)
  - AppBar Title Color: Neutral-800 (#1E293B)
  - AppBar Title Typography: 2xl (24px, Bold)
  - AppBar Shadow: sm (0 2px 4px rgba(15, 23, 42, 0.06))
  - AppBar Elevation: 0

## Design System Token Reference

| Element | Token Path | Value | Usage |
|---------|-----------|-------|-------|
| Screen Background | Colors - Neutral - 50 | #F8FAFC | 전체 화면 배경 |
| AppBar Background | Colors - White | #FFFFFF | 상단 앱바 |
| AppBar Title | Typography - 2xl | 24px, Bold, Neutral-800 | 화면 제목 "설정" |
| Section Title | Typography - xl | 20px, Semibold, Neutral-800 | 섹션 제목 |
| Card Background | Colors - White | #FFFFFF | 사용자 정보 카드 |
| Card Border | Colors - Neutral - 200 | #E2E8F0, 1px | 카드 테두리 |
| Card Shadow | Shadow - sm | 0 2px 4px rgba(15, 23, 42, 0.06) | 카드 깊이감 |
| Card Border Radius | Border Radius - md | 12px | 카드 모서리 |
| Card Padding | Spacing - md | 16px | 카드 내부 여백 |
| Label (Data) | Typography - sm | 14px, Medium, Neutral-700 | 데이터 레이블 |
| Value (Data) | Typography - base | 16px, Regular, Neutral-600 | 데이터 값 |
| MenuItem Title | Typography - base | 16px, Semibold, Neutral-800 | 메뉴 항목 제목 |
| MenuItem Subtitle | Typography - sm | 14px, Regular, Neutral-500 | 메뉴 항목 설명 |
| MenuItem Border | Colors - Neutral - 200 | #E2E8F0, 1px bottom | 메뉴 항목 구분선 |
| MenuItem Hover BG | Colors - Neutral - 100 | #F1F5F9 | 메뉴 항목 호버 상태 |
| Danger Button BG | Colors - Error | #EF4444 | 로그아웃 버튼 |
| Danger Button Text | Colors - White | #FFFFFF | 로그아웃 버튼 텍스트 |
| Button Height | Sizing - Medium | 44px | 로그아웃 버튼 높이 |
| Button Border Radius | Border Radius - sm | 8px | 로그아웃 버튼 모서리 |
| Button Shadow | Shadow - sm | 0 2px 4px rgba(15, 23, 42, 0.06) | 버튼 깊이감 |
| Section Spacing | Spacing - lg | 24px | 섹션 간 여백 |
| Main Padding H | Spacing - md | 16px | 좌우 메인 여백 |
| Main Padding V | Spacing - xl | 32px | 상하 메인 여백 |
| Icon Color | Colors - Neutral - 400 | #94A3B8 | 메뉴 chevron 아이콘 |
| Icon Size | Sizing - Icon | 20px | chevron 아이콘 크기 |

## Preserved Elements

다음 요소들은 현재 상태를 유지합니다:

- **AppBar structure:** 상단 네비게이션 바의 기본 구조는 유지 (제목, 뒤로가기 등)
- **Menu item 개수와 순서:** 현재 5개 메뉴 항목의 순서와 개수 유지
- **Logout confirmation dialog:** 기존 로그아웃 확인 다이얼로그 메커니즘 유지
- **Navigation routing:** 각 메뉴의 라우팅 구조 및 화면 전환 로직 유지

## Dependencies

### Prerequisites (must do first)
✅ None - GabiumButton (Danger variant), 강화된 SettingsMenuItem 컴포넌트를 이 프로젝트에서 신규 생성 (기존 component library에 Button Danger는 없으나 Design System에 정의됨)

### Impact (will need updating after)
✅ Isolated change - Settings 화면만 영향, 다른 화면에 미치는 영향 없음

## Component Reuse

### Existing Components to Reuse:
- **GabiumButton:** Primary 및 Secondary variant 활용 가능하나, Danger variant는 신규 생성 필요
  - 참고: GabiumButton은 Primary/Ghost만 지원하므로 Danger variant를 추가로 확장하거나 새로 생성
- **SettingsMenuItem:** 현재 기본 ListTile 기반이므로 개선된 버전으로 커스터마이징 필요

### New Components to Create:
- **SettingsMenuItemImproved:** 기존 SettingsMenuItem 개선 버전
  - 44px height with clear touch area
  - Bottom border separator
  - Hover/active state animations
  - 설계 토큰 적용

- **UserInfoCard:** 사용자 정보 표시용 카드 컴포넌트
  - Title + key-value pairs 지원
  - Card styling (border, shadow, radius)
  - SummaryCard와 유사하나 Settings 화면 특화

- **DangerButton:** GabiumButton의 Danger variant
  - Error 색상 기반
  - Error hover/active 상태
  - 위험 액션 명시

Will be added to Registry in Phase 2B

## Success Criteria

1. **Brand Alignment:** 모든 색상, 타이포그래피, 간격이 Gabium Design System 토큰 사용
2. **Visual Hierarchy:** 섹션 간 명확한 시각적 구분 - 제목, 카드, 구분선으로 계층 강화
3. **UX Clarity:** 사용자가 수정 가능한 메뉴와 읽기 전용 정보를 구분 - 카드는 정보, 메뉴는 상호작용
4. **Accessibility:** 모든 터치 영역 44px 이상, WCAG AA 대비도 준수 (#EF4444 on white = 3.99:1 만족)
5. **Danger Button Prominence:** 로그아웃 버튼이 위험성을 명확히 표현 - 빨간색, 전체 너비, 섹션 분리
6. **Design Token Compliance:** 하드코딩된 색상/여백 제거, 100% Design System 토큰 사용

## Technical Context

### Platform/Framework:
Flutter (Null-safe Dart)

### Special Constraints:
- SettingsScreen은 ConsumerWidget으로 Riverpod 의존성 있음
- authNotifierProvider 및 profileNotifierProvider 사용 중
- GoRouter 사용으로 네비게이션 처리
- SafeArea 고려 필요

## Layout Structure (High-Level)

```
+------------------------------------+
| AppBar (White, elevation 0)        |
| 설정                               |
+------------------------------------+
| Neutral-50 Background (Padding)    |
|                                    |
| [사용자 정보 섹션]                 |
| ┌─────────────────────────────────┐|
| │ 사용자 정보 (xl, Bold)           ││
| │                                 ││
| │ 이름: [userName]                ││
| │ 목표 체중: [targetWeight]kg      ││
| └─────────────────────────────────┘|
|                                    |
| [설정 메뉴 섹션]                   |
| 설정 (xl, Bold)                   |
|                                    |
| 프로필 및 목표 수정                 |
| 이름과 목표 체중을 변경할 수 있습니다
| ─────────────────────────────────  |
|                                    |
| 투여 계획 수정                     |
| 약물 투여 계획을 변경할 수 있습니다
| ─────────────────────────────────  |
|                                    |
| ... (추가 메뉴 항목)               |
|                                    |
| [로그아웃 버튼]                    |
| ┌─────────────────────────────────┐|
| │  로그아웃 (Error, 44px)          ││
| └─────────────────────────────────┘|
|                                    |
+------------------------------------+
```

## Approval Required

- [ ] 사용자가 개선 방향 승인
- [ ] 모든 Design System 토큰 사용 가능 확인
- [ ] 의존성 없음 확인

