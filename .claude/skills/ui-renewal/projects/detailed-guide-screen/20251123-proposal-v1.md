# Detailed Guide Screen Improvement Proposal

## Overview
DetailedGuideScreen는 현재 기본 Flutter Material 스타일로 구성되어 있어, Gabium Design System을 적용하여 브랜드 일관성, 시각적 계층 구조, 접근성을 개선합니다.

## Current State Issues

### Brand Consistency Issues
- Material 기본 AppBar 스타일 사용 (Gabium Design System 미적용)
- 텍스트 계층 구조가 Theme 기본값에 의존 (일관성 없음)
- 색상 시스템 미적용 - 중립적인 Material 색상만 사용
- 섹션 구분이 여백만으로 표현 (시각적 강조 부족)

### Visual Quality Issues
- Heading 스타일 불명확 (headlineSmall 사용으로 시각적 강도 약함)
- 섹션 제목 강조 부족 (title + bold 조합으로 부자연스러움)
- 여백 체계가 일관되지 않음 (8px, 16px, 24px 혼용)
- 카드/섹션 배경 처리 없음 (흰색 배경에만 텍스트 표시)
- 관련 컨텐츠 그룹화 시각화 부족

### UX Issues
- 사용자가 섹션의 시작/끝 구분이 명확하지 않음
- 긴 텍스트 다량일 때 시각적 피로 증가
- 다시 읽기(재참고)를 위한 시각적 랜드마크 부족
- 모바일 최적화된 터치 영역 없음

## Improvement Direction

### Change 1: AppBar 스타일링 - Gabium Design System 적용
- **Current:** Material AppBar (기본 회색 배경, 기본 텍스트 색상)
- **Proposed:** Gabium Design System 기반 AppBar (흰색 배경, 명확한 하단 테두리, Primary 색상 액센트)
- **Rationale:**
  - 앱 전체의 브랜드 일관성 강화
  - 사용자가 화면 계층 구조를 직관적으로 파악
  - Primary 색상 사용으로 Gabium 브랜드 정체성 표현
- **Design System Mapping:**
  - Component: Header (App Bar)
  - Background: #FFFFFF (White)
  - Border Bottom: Neutral-200 (#E2E8F0), 1px
  - Title Size: xl (20px Semibold)
  - Title Color: Neutral-800 (#1E293B)
  - Height: 56px
  - Padding: 0 16px

### Change 2: 페이지 제목(Main Heading) 강조
- **Current:** headlineSmall 사용 (약한 계층 구조)
- **Proposed:** xl 크기, Bold 가중치의 명확한 제목 + Primary 색상 왼쪽 테두리 카드
- **Rationale:**
  - 페이지 주제를 명확하게 강조
  - 증상명이 사용자의 시각적 초점이 되도록 설계
  - Gabium 디자인의 색상 강조 패턴 활용
- **Design System Mapping:**
  - Component: Card Container with accent
  - Typography: xl (20px Bold)
  - Text Color: Neutral-800 (#1E293B)
  - Background: Neutral-50 (#F8FAFC)
  - Border Left: Primary (#4ADE80), 4px
  - Padding: md (16px)
  - Border Radius: md (12px)
  - Shadow: sm

### Change 3: 섹션 콘텐츠 카드화
- **Current:** 평문 텍스트만 연속 표시 (섹션 구분 불명확)
- **Proposed:** 각 섹션을 Card로 래핑하고 배경색, 여백, 테두리 적용
- **Rationale:**
  - 개별 섹션의 응집력 강화
  - 시각적 스캐닝 용이성 향상 (사용자가 쉽게 읽고 찾을 수 있음)
  - 장문의 컨텐츠도 구조적으로 느껴지도록 개선
- **Design System Mapping:**
  - Component: Card Container
  - Background: #FFFFFF (White)
  - Border: 1px solid Neutral-200 (#E2E8F0)
  - Border Radius: md (12px)
  - Shadow: sm
  - Padding: md (16px)
  - Spacing Between Cards: lg (24px)

### Change 4: 섹션 제목 스타일 강화
- **Current:** titleMedium + bold (불일치한 스타일 조합)
- **Proposed:** lg 크기 (18px), Semibold 가중치, Primary 색상 액센트 (상단 선)
- **Rationale:**
  - Material + Custom 스타일 혼용 제거
  - Gabium 색상 시스템 활용으로 일관성 향상
  - 섹션 제목이 명확하게 하위 컨텐츠를 리드
- **Design System Mapping:**
  - Typography: lg (18px Semibold)
  - Text Color: Neutral-800 (#1E293B)
  - Top Border: Primary (#4ADE80), 2px
  - Padding Top: sm (8px)
  - Margin Bottom: sm (8px)

### Change 5: 본문 텍스트 가독성 개선
- **Current:** bodyMedium 스타일만 사용 (계층 없음)
- **Proposed:** base 크기 (16px), Regular 가중치, Neutral-600 색상, 1.5배 라인 높이
- **Rationale:**
  - 의료 정보 가독성 극대화 (시간이 오래 걸리는 읽기에 최적화)
  - 한글 특성상 더 높은 라인 높이 필요
  - Neutral 톤으로 차분한 분위기 유지
- **Design System Mapping:**
  - Typography: base (16px Regular)
  - Text Color: Neutral-600 (#475569)
  - Line Height: 1.5 (24px)
  - Letter Spacing: normal

### Change 6: 전체 페이지 여백 및 섹션 간격 정규화
- **Current:** 일관되지 않은 여백 (8px, 16px, 24px 혼용)
- **Proposed:** Spacing Scale 기반 정규화 (md 내부, lg 섹션 간, xl 상하)
- **Rationale:**
  - 페이지 리듬감 제공
  - 모바일 최적화된 편안한 레이아웃
  - 유지보수성 향상
- **Design System Mapping:**
  - Page Padding (좌우): md (16px)
  - Page Padding (상하): xl (32px)
  - Section Spacing: lg (24px)
  - Card Internal Padding: md (16px)
  - Element Spacing: sm (8px)

### Change 7: 스크롤 뷰 개선 (길이가 긴 컨텐츠 대비)
- **Current:** SingleChildScrollView만 사용 (스크롤 시 AppBar 고정 미적용)
- **Proposed:** CustomScrollView with SliverAppBar + 부드러운 스크롤 경험
- **Rationale:**
  - 장문 컨텐츠 읽기 시 AppBar 가시성 개선
  - 현대적인 UX 패턴 적용
  - 스크롤 깊이에 따른 시각적 피드백 제공
- **Design System Mapping:**
  - AppBar Behavior: Floating (scroll 시에도 항상 보임)
  - Scroll Physics: smooth
  - No specific token (UX pattern)

## Design System Token Reference

| Element | Token Path | Value | Usage |
|---------|-----------|-------|-------|
| AppBar Background | Colors - Neutral - 50 | #FFFFFF | Top header background |
| AppBar Border | Colors - Neutral - 200 | #E2E8F0, 1px | Bottom border |
| Title Font | Typography - xl | 20px, Bold | Page title (symptom name) |
| Title Color | Colors - Neutral - 800 | #1E293B | Page title text |
| Title Accent Border | Colors - Primary | #4ADE80, 4px left | Title card accent |
| Title Background | Colors - Neutral - 50 | #F8FAFC | Title card background |
| Section Title Font | Typography - lg | 18px, Semibold | Section headings |
| Section Title Color | Colors - Neutral - 800 | #1E293B | Section heading text |
| Section Top Border | Colors - Primary | #4ADE80, 2px | Section visual separator |
| Body Font | Typography - base | 16px, Regular | Main content text |
| Body Text Color | Colors - Neutral - 600 | #475569 | Content text |
| Body Line Height | Visual Effects - Line Height | 1.5 (24px) | Text spacing |
| Card Background | Colors - White | #FFFFFF | Card container |
| Card Border | Colors - Neutral - 200 | #E2E8F0, 1px | Card edge |
| Card Radius | Visual Effects - Border Radius | md (12px) | Card corners |
| Card Shadow | Visual Effects - Shadow | sm | Card depth |
| Card Padding | Spacing - md | 16px | Inner card spacing |
| Page Padding (H) | Spacing - md | 16px | Left/right page margin |
| Page Padding (V) | Spacing - xl | 32px | Top/bottom page margin |
| Section Spacing | Spacing - lg | 24px | Between sections |

## Preserved Elements

What should NOT change:
- **CopingGuide 엔티티 구조:** 현재 데이터 모델이 잘 설계됨 (변경 불필요)
- **DetailedSections 맵핑:** 섹션 제목 + 컨텐츠 구조는 효과적 (유지)
- **SingleChildScrollView 기본 구조:** 장문 컨텐츠 처리 방식 적절 (CustomScrollView로 개선할 경우 동작 동일 유지)
- **뒤로가기 네비게이션:** 기존 AppBar 네비게이션 기능 유지

## Dependencies

### Prerequisites (must do first):
✅ None - Gabium Design System v1.0 완료, 모든 필요 토큰 사용 가능

### Impact (will need updating after):
✅ Isolated change - DetailedGuideScreen 전용 개선으로 다른 화면 영향 없음

## Component Reuse

### Existing Components to Reuse:
✅ None - 이 화면은 기존 컴포넌트를 재사용하지 않음 (독립적 콘텐츠 표시)

### New Components to Create:
✅ None - Design System 토큰만으로 충분 (새 컴포넌트 불필요)

## Success Criteria

1. ✅ Gabium Design System 색상, 타이포그래피, 간격이 일관되게 적용됨
2. ✅ 페이지 제목과 섹션 제목이 시각적으로 명확하게 구분됨
3. ✅ 긴 텍스트도 읽기 편하고 스캐닝이 용이함 (카드 구조)
4. ✅ WCAG AA 색상 대비 충족 (모든 텍스트 4.5:1 이상)
5. ✅ 모바일 최적화 (터치 영역 44px 이상, 여백 적절)
6. ✅ AppBar가 Gabium 스타일 기준(56px, 명확한 테두리)을 충족

## Technical Context

### Platform/Framework:
Flutter (Dart)

### Special Constraints:
- CopingGuide 엔티티는 application layer에서 전달됨 (변경 불가)
- Presentation layer only 수정 (다른 레이어 변경 금지)
- Material Design 의존성은 유지 (Flutter 기본)

## Layout Structure (High-Level)

```
+----------------------------------------+
| AppBar (Gabium style)                  |
| "증상명 대처 가이드" (Primary accent)    |
+----------------------------------------+
|                                        |
| [Title Card]                           |
| ┌──────────────────────────────────┐  |
| │█ 증상명 (xl, Bold)                │  |
| │  (Primary left border)             │  |
| └──────────────────────────────────┘  |
|                                        |
| [Section 1 Card]                       |
| ┌──────────────────────────────────┐  |
| │ Section Title (lg, Semibold)     │  |
| │ ─────────────────────────────── │  |
| │                                │  |
| │ Section content text (base)    │  |
| │ Multiple paragraphs...         │  |
| └──────────────────────────────────┘  |
|                                        |
| [Section 2 Card]                       |
| ┌──────────────────────────────────┐  |
| │ Another Section (lg, Semibold)  │  |
| │ ─────────────────────────────── │  |
| │ Content...                      │  |
| └──────────────────────────────────┘  |
|                                        |
```

## Approval Required

- [ ] User approves improvement direction
- [ ] All Design System tokens available
- [ ] Dependencies acknowledged

---

**Document Status:** Ready for Phase 2B Implementation
**Created:** 2025-11-23
**Design System Version:** Gabium v1.0
