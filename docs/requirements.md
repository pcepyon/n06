# GLP-1 치료 관리 MVP 요구사항 문서 (Phase 0)

## 1. 제품 개요 및 비전

### 1.1. 제품 개요
본 제품은 GLP-1 주사제 사용자들을 위한 디지털 솔루션으로, 복잡한 **개인별 투여 스케줄**을 자동 관리하고, **주요 증상 및 체중 변화 기록**을 데이터 기반의 보고서로 자동 생성하여 의료진과의 커뮤니케이션 효율과 환자의 치료 안전성을 극대화하는 것을 목표로 한다.

### 1.2. 비전
GLP-1 치료 과정에서 발생하는 모든 불확실성(스케줄 혼동, 증상 보고의 비일관성)을 해소하여, 사용자가 안전하고 효율적으로 치료 목표에 도달할 수 있도록 돕는 필수적인 디지털 파트너가 된다.

---

## 2. 타겟 사용자와 핵심 시나리오

### 2.1. 타겟 사용자
GLP-1 주사제를 복용하는 사용자 (자가 투여에 익숙하지만, 스케줄 관리와 데이터 기록에 비효율을 겪는 모든 연령대의 사용자).

### 2.2. 핵심 시나리오 (P0 기능 기반)

| 시나리오 No. | 시나리오 |
| :--- | :--- |
| **SC1. 일상 투여 및 기록** | 사용자는 설정된 투여일과 용량 알림을 받고 주사를 투여한다. 투여 후 메스꺼움이 발생하자, 앱에 메스꺼움 강도를 기록하고, 기록 즉시 앱에서 식사 방법, 피해야 할 음식 등의 **실용적인 대처 가이드**를 확인하여 안전하게 관리한다. |
| **SC2. 의료진 상담 및 처방** | 사용자는 정기 검진일에 맞춰 앱에 기록된 지난 치료 기간의 **용량 변화, 체중 변화, 부작용 기록, 순응도**가 통합된 시각화 보고서(PDF)를 3초 이내에 생성한다. 이 보고서를 의료진에게 제출하고 데이터 기반의 피드백을 통해 다음 처방을 확정한다. |
| **SC3. 심각한 증상 대응** | 사용자는 구토가 24시간 이상 지속되고 물도 마실 수 없게 되자 불안해한다. 앱의 **증상 체크** 기능을 통해 해당 증상을 선택하고, 즉시 "의료진과 상담이 필요합니다" 안내를 받는다. 앱에 저장된 병원 연락처를 통해 바로 전화를 걸어 신속하게 대처한다. |
| **SC4. 일상 동기 부여 및 진행 확인** | 사용자는 아침에 앱을 열고 홈 화면에서 "3주차 진행 중, 7일 연속 기록 중"이라는 개인화 인사를 확인한다. 주간 목표 진행도가 85%임을 보고, 오늘 체중만 기록하면 100% 달성임을 인지한다. 미니 차트를 통해 지난주 대비 1.2kg 감소를 확인하고, "꾸준한 노력이 결과로 나타나고 있어요"라는 인사이트 메시지를 보며 동기를 얻는다. 획득한 "7일 연속 기록" 뱃지를 확인하며 성취감을 느낀다. |

---

## 3. 기능 상세 명세

---

### F001: 개인화된 투여 스케줄러

**User Story**
- As a GLP-1 사용자, I want to 자동으로 투여 스케줄이 관리되길, So that 투여일을 놓치지 않고 안전하게 치료받을 수 있다.

**Acceptance Criteria**
1. 초기 처방 정보(시작일, 주기, 초기 용량, 증량 계획) 입력 시 전체 스케줄이 1초 이내 자동 생성됨
2. 사용자가 특정 투여일 또는 용량을 수동 변경 시 이후 모든 스케줄이 1초 이내 재계산됨
3. 투여 예정일 당일 지정된 시간에 푸시 알림 발송됨
4. 스케줄은 캘린더 뷰 및 리스트 뷰로 확인 가능함
5. 투여 완료/미완료 상태를 기록할 수 있음
6. 누락 용량 관리 자동 안내:
   - 5일 이내 누락: "즉시 투여하세요" 알림
   - 5일 초과 누락: "다음 예정일까지 대기" 안내 및 경고
7. 주사 부위 순환 관리:
   - 복부/허벅지/상완 부위 선택 및 기록
   - 같은 부위 재사용 시 최소 1주 간격 알림
   - 부위별 투여 이력 시각화

**Data Requirements**
- 처방 정보: 약물명, 시작일, 투여 주기(일), 초기 용량(mg), 증량 계획
- 투여 기록: 투여일시, 실제 용량(mg), 투여 부위(복부/허벅지/상완), 완료 여부, 메모
- 누락 관리: 누락 일수 자동 계산, 재개 지침 타입(즉시투여/대기)

---

### F002: 주요 증상 및 체중 간편 기록

**User Story**
- As a GLP-1 사용자, I want to 체중과 부작용을 간편하게 기록하길, So that 치료 경과를 정확하게 추적하고 의료진과 공유할 수 있다.

**Acceptance Criteria**
1. 체중 기록은 날짜와 체중 값(kg) 입력으로 3회 터치 이내 완료됨
2. 부작용 기록은 증상 선택 + 10점 척도(1-10점) 선택으로 3회 터치 이내 완료됨
3. 기본 부작용 목록: 메스꺼움, 구토, 변비, 설사, 복통, 두통, 피로
4. 날짜별 여러 증상을 동시에 기록 가능함
5. 과거 날짜 기록 수정 및 삭제 가능함
6. 부작용 기록 시 용량 증량 후 경과일 자동 계산 및 표시
7. 심각도 7-10점 입력 시 추가 확인 질문 1개 표시:
   - "이 증상이 24시간 이상 지속되고 있나요?" (예/아니오 선택)
   - "예" 선택 시 F005 증상 체크 화면으로 안내

**Data Requirements**
- 체중 기록: 날짜, 체중(kg), 기록 시간
- 부작용 기록: 날짜, 증상명, 심각도(1-10), 용량 증량 후 경과일(자동 계산), 기록 시간, 메모

---

### F003: 자동 의료진 보고서 생성

**User Story**
- As a GLP-1 사용자, I want to 치료 데이터를 한 번에 PDF로 생성하길, So that 의료진 상담 시 데이터 기반 대화를 효율적으로 진행할 수 있다.

**Acceptance Criteria**
1. 보고서 생성 버튼 클릭 시 3초 이내 PDF 생성 완료됨
2. 보고서 포함 내용:
   - 기간 내 투여 기록 (날짜, 용량 변화 타임라인)
   - 용량 적정 준수율 (계획된 증량 일정 대비 실제 투여 이력)
   - 주사 부위 순환 이력 (부위별 투여 횟수 및 마지막 사용일)
   - 체중 변화 추이 그래프 (선 그래프, 예상 감량 범위 참조선 포함)
   - 부작용 강도 추이 그래프 (증상별 히트맵 또는 선 그래프, 용량 증량 시점 표시)
   - 부작용 발생 시기 패턴 (용량 증량 후 경과일 기준 분석)
   - 부작용 빈도 요약 (각 증상별 발생 횟수 및 평균 강도)
   - 심각한 증상 발생 이력 (F005 증상 체크 기록, 날짜 및 증상 목록)
3. 보고서 기간은 사용자가 선택 가능 (최근 1개월/3개월/전체)
4. 생성된 PDF는 기기에 저장 및 외부 공유 가능함

**Data Requirements**
- 입력: F001의 투여 기록, F002의 체중/부작용 기록, F005의 증상 체크 기록
- 출력: PDF 파일 (A4 사이즈, 차트 포함)

---

### F004: 연계형 부작용 대처 가이드

**User Story**
- As a GLP-1 사용자, I want to 부작용 기록 즉시 실용적인 대처 팁을 확인하길, So that 일상에서 증상을 관리하고 불안감을 해소할 수 있다.

**Acceptance Criteria**
1. F002에서 부작용 기록 완료 시 해당 증상의 간단한 대처 가이드가 자동 표시됨
2. 각 증상별 긍정적이고 실용적인 톤의 가정 관리 가이드 제공:
   - 메스꺼움: 식사 방법, 피해야 할 음식, 도움이 되는 음료, 주사 타이밍 조정 팁
   - 구토: 수분 보충 방법, 식사 재개 순서, 회복 단계별 접근법
   - 설사: 권장 식이요법, 수분 및 전해질 관리, 피해야 할 음식
   - 변비: 식이섬유 섭취, 수분 권장량, 신체 활동, 배변 습관 개선
   - 복통: 완화 방법, 식이 조절, 스트레스 관리 기법
   - 두통: 수분 섭취, 휴식 방법, 일상 관리 팁
   - 피로: 휴식 및 회복, 영양 관리, 활동량 조절
3. 기록 후 "도움이 되었나요?" 피드백 수집 기능 제공
4. "더 자세한 가이드 보기" 옵션으로 전체 관리 가이드 접근 가능
5. 상세 가이드는 단계별 구성 (즉시 조치 → 식이 조절 → 생활 습관 → 경과 관찰)
6. 가이드는 증상 기록 화면 또는 별도 가이드 탭에서 언제든 재확인 가능함

**Data Requirements**
- 증상별 대처 가이드 텍스트 (정적 데이터, 간단 버전 + 상세 버전)
- 가이드 피드백 기록 (선택적)

---

### F005: 증상 체크 및 의료진 연락 지원

**User Story**
- As a GLP-1 사용자, I want to 심각한 증상 발생 시 빠르게 확인하고 의료진에게 연락하길, So that 안전하게 대처하고 필요한 조치를 신속하게 받을 수 있다.

**Acceptance Criteria**
1. 메인 화면 또는 부작용 관련 영역에 "증상 체크" 진입점 제공 (별도 섹션 또는 안전 도우미 영역)
2. 증상 체크 화면은 체크리스트 형태로 다음 항목을 일상 언어로 제공:
   - "24시간 이상 계속 구토하고 있어요"
   - "물이나 음식을 전혀 삼킬 수 없어요"
   - "매우 심한 복통이 있어요 (견디기 어려운 정도)"
   - "설사가 48시간 이상 계속되고 있어요"
   - "소변이 진한 갈색이거나 8시간 이상 나오지 않았어요"
   - "대변에 피가 섞여 있거나 검은색이에요"
   - "피부나 눈 흰자위가 노랗게 변했어요"
3. 체크리스트에서 하나라도 선택 시 의료진 상담 권장 화면 자동 표시:
   - 선택한 증상 요약
   - "의료진과 상담이 필요합니다" 안내 문구
   - 증상 기록 자동 저장 (F002 연동, 심각도 10점)
4. 의료진 연락 지원 기능 제공:
   - 처방 병원 연락처 표시 (설정에서 사전 입력)
   - 전화 걸기 기능 (디바이스 전화 앱 연동)
   - 응급실 찾기 기능 (지도 앱 연동, 선택적)
5. 체크한 내역은 기록으로 저장 (날짜시간, 선택한 증상, 조치 여부)
6. 해당 없는 경우 쉽게 나갈 수 있는 옵션 제공

**Data Requirements**
- 응급 증상 체크리스트 항목 (정적 데이터, 7개 항목)
- 체크 기록: 날짜시간, 체크한 증상 목록, 조치 내역

---

### F006: 개인화된 홈 대시보드

**User Story**
- As a GLP-1 사용자, I want to 한눈에 나의 치료 진행 상황과 성취를 확인하길, So that 동기를 유지하고 일상적인 기록 습관을 강화할 수 있다.

**Acceptance Criteria**

**[필수 기능 - P0]**

1. 개인화 인사 영역이 홈 화면 상단에 표시됨:
   - 사용자 이름
   - 연속 기록일 (일 단위, 마지막 기록일 기준)
   - 현재 치료 주차 (투여 시작일 기준 자동 계산)

2. 주간 목표 진행도가 시각화됨:
   - 투여 완료 목표 (주간 예정 투여 횟수 대비 실제 완료 횟수)
   - 체중 기록 목표 (주간 목표 대비 실제 기록 횟수)
   - 부작용 기록 목표 (주간 목표 대비 실제 기록 횟수)
   - 각 목표의 달성률(%)이 진행 바로 표시됨

3. 퀵 액션 버튼 영역 제공:
   - 체중 기록, 부작용 기록, 투여 완료 버튼
   - 각 버튼 클릭 시 해당 기록 화면(F002 또는 F001)으로 직접 이동
   - 터치하기 쉬운 크기와 명확한 라벨 제공

4. 다음 예정 일정 표시:
   - 다음 투여 예정일 및 용량
   - 다음 용량 증량 예정일 (해당 시)

**[향상 기능 - P1]**

5. 데이터 기반 인사이트 자동 생성:
   - 전주 대비 체중 1% 이상 감소 시 긍정적 변화 메시지
   - 연속 7일 이상 기록 달성 시 격려 메시지
   - 부작용 개선 시 (전주 대비 평균 강도 2점 이상 감소) 안내 메시지
   - 해당 조건 없을 시 일반 격려 메시지 표시
   - 메시지는 사용자 상황에 맞춰 동적으로 변경됨

6. 미니 차트 요약 대시보드:
   - 최근 4주 체중 추이 (간소화된 라인 차트)
   - 최근 1주 부작용 빈도 (시각화된 요약)
   - 용량 적정 순응도 (%)
   - 각 차트는 터치 시 상세 화면(F003)으로 이동

7. 치료 여정 타임라인:
   - 치료 시작일부터 현재까지의 진행 상황 시각화
   - 주요 마일스톤 표시 (용량 증량 시점, 체중 감량 목표 달성 등)
   - 다음 목표까지의 진행도 표시

8. 성취 뱃지 시스템:
   - 획득 조건: 연속 7일 기록, 연속 30일 기록, 체중 5% 감량, 10% 감량, 첫 투여 완료 등
   - 획득한 뱃지와 다음 뱃지까지의 진행도 표시
   - 뱃지 획득 시 알림 제공
   - 뱃지 목록 및 획득 조건 확인 가능

9. 시각적 피드백 제공:
   - 투여 완료 시 축하 효과 표시
   - 주간 목표 100% 달성 시 시각적 강조
   - 사용자 인터랙션에 부드러운 전환 효과

**Data Requirements**
- 사용자 프로필: 이름, 치료 시작일, 가입일
- 연속 기록일 계산:
  - 마지막 기록 날짜(F002)부터 현재까지 일수
  - 기록 없는 날 발생 시 0으로 리셋
- 주간 목표 설정:
  - 투여 목표: F001 스케줄 기반 (주간 예정 투여 횟수)
  - 체중 기록 목표: 기본값 7회/주 (사용자 설정 가능)
  - 부작용 기록 목표: 기본값 7회/주 (사용자 설정 가능)
- 인사이트 생성 데이터:
  - 전주(최근 7일) 대비 체중 변화율 (%)
  - 전주 대비 부작용 평균 강도 변화
  - 연속 기록일 수
- 뱃지 데이터:
  - 뱃지 정의 목록 (ID, 이름, 설명, 획득 조건, 아이콘 정보)
  - 사용자별 뱃지 획득 상태 (미획득/진행중/획득)
  - 각 뱃지별 진행도 (%)
  - 뱃지 획득 날짜
- 타임라인 데이터:
  - 치료 시작일, 현재 용량, 다음 증량 예정일 (F001 연동)
  - 주요 이벤트 기록 (용량 증량, 목표 달성 등)
- 차트 데이터:
  - 최근 4주 체중 기록 (F002)
  - 최근 1주 부작용 기록 (F002)
  - 투여 완료 이력 (F001)